<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Fantasy Forge</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Uncial+Antiqua&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <style>
    html, body {
      margin: 0; padding: 0; height: 100%; overflow-x: hidden;
      font-family: 'Uncial Antiqua', serif;
      scroll-behavior: smooth;
      background: #000000;
      color: #f6e6cb;
    }
    body {
      scroll-snap-type: y proximity;
      overflow-y: scroll;
      position: relative;
      z-index: 1;
    }
    section {
      scroll-snap-align: none;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: 2rem;
      /*background-color: rgba(14, 12, 12, 0.75);*/
      backdrop-filter: blur(2px);
      margin-left: 180px;  /* Left border width */
      margin-right: 180px; /* Right border width */
    }
    /* Banner styling */
    
    /*
    header {
      position: relative;
      height: 700px;
      width: 90vw;
      overflow: hidden;
      z-index: 20;
      margin-left: 180px;
      margin-right: 180px;
    }
    */
    
    header {
  position: relative;
  height: 700px;
  width: 100vw;
  left: 0;
  margin-left: 0;
  margin-right: 0;
  overflow: hidden;
  z-index: 200; /* higher than nav */
}

    header img {
      width: 100%;
      height: 700px;
      object-fit: fill; 
      user-select: none;
      pointer-events: none;
    }

    /* Floating sticky menu */

    /*
    nav {
      position: fixed;
      top: 0;
      left: 0;
      height: 100vh;
      width: 180px;
      background: linear-gradient(180deg, #000000 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-top: 3rem;
      z-index: 100;
    }*/

    nav {
  position: fixed;
  top: 0;
  left: 40px;        /* push menu 40px away from left edge */
  height: 100vh;
  width: 180px;
  background: linear-gradient(180deg, #000000 100%);
  z-index: 100;      /* less than header so banner covers menu */
  box-shadow: 2px 0 6px rgba(0,0,0,0.7); /* subtle shadow */
  border-radius: 0 8px 8px 0; /* optional rounding for style */
}
    
    nav button {
      background: linear-gradient(to right, #ff7f00, #ffae00);
      color: #3b1f00;
      font-weight: 700;
      margin: 0.5rem 0;
      padding: 0.8rem 1.2rem;
      border: none;
      border-radius: 9999px;
      box-shadow: 0 0 10px #ffae00;
      cursor: pointer;
      width: 140px;
      transition: background 0.3s ease, box-shadow 0.3s ease;
    }
    nav button:hover, nav button.active {
      background: linear-gradient(to right, #ffae00, #ffd75a);
      box-shadow: 0 0 20px #ffd75a;
      color: #5a3200;
    }

    /* Sections fade in */
    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      transition: all 1s ease-out;
    }
    .fade-in.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* Particle background container */
    #particles-js {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      z-index: -1;
      background: #000000;
    }

    /* Instagram widget smaller but still readable */
    #instagram-feed {
      max-width: 90vw;
      max-height: 420px;
      margin: auto;
    }
  </style>
</head>
<body>

  <!-- Particle background -->
  <div id="particles-js"></div>

  <!-- Sticky menu nav -->
  <nav>
    <button data-target="section-instagram" class="active">Our Latest Creations</button>
    <button data-target="section-calendar">Where to Find Us</button>
    <button data-target="section-commission">Request a Commission</button>
    <button data-target="section-about">About Us</button>
  </nav>

  <!-- Banner -->
  <header>
    <img src="assets/banner.png" alt="The Fantasy Forge Banner" />
  </header>

  <!-- Sections -->
  <section id="section-instagram" class="fade-in">
    <h2 class="text-3xl text-center mb-6">üì∏ Our Latest Creations</h2>
    <div class="flex justify-center">
      <div id="instagram-feed" class="flex flex-wrap justify-center gap-4"></div>
    </div>
    <div class="embedsocial-hashtag" data-ref="85c3e6cf8a6763ac35f53880053d834f79e7c383"></div>
    <script>
      (function(d, s, id) {
        if (d.getElementById(id)) return;
        const js = d.createElement(s); js.id = id;
        js.src = "https://embedsocial.com/cdn/ht.js";
        d.getElementsByTagName("head")[0].appendChild(js);
      })(document, "script", "EmbedSocialHashtagScript");
    </script>
  </section>

  <section id="section-calendar" class="fade-in">
    <h2 class="text-3xl text-center mb-6">üìç Where to Find Us</h2>
    <div class="flex flex-col lg:flex-row items-center justify-center gap-8 px-4">
      <div class="w-[250px] flex-shrink-0">
        <img 
          src="assets/traveling-merchant.png"
          alt="Traveling Merchant" 
          class="w-full drop-shadow-lg rounded-xl border border-yellow-600 float-merchant"
          style="filter: drop-shadow(0 0 10px #ffb347);" 
        />
      </div>
      <div class="w-full max-w-3xl">
        <iframe
          src="https://calendar.google.com/calendar/embed?src=32cffb5fb476f0c8d44d45efa417aa3c60b87e5fa3cd8d62a10f6d9fa2d9e37b%40group.calendar.google.com&ctz=America%2FHalifax"
          style="border: 0"
          width="100%"
          height="600"
          frameborder="0"
          scrolling="no"
          class="rounded-xl border border-yellow-700"
        ></iframe>
      </div>
    </div>
  </section>

  <section id="section-commission" class="fade-in">
    <h2 class="text-3xl text-center mb-4">üî• Request a Commission</h2>
    <p class="text-center mb-6 max-w-xl mx-auto italic text-orange-200">
      Have a dream prop, wild creature, or fantasy artifact in mind? Send us your vision, and we'll forge it in reality.
    </p>
    <form
      action="https://formspree.io/f/xeokpkya"
      method="POST"
      class="bg-black bg-opacity-50 backdrop-blur-md border border-yellow-600 rounded-xl p-6 max-w-xl mx-auto space-y-4"
    >
      <input type="email" name="email" placeholder="Your Email" required
        class="w-full p-3 bg-gray-800 border border-yellow-600 text-white rounded" />
      <input type="text" name="name" placeholder="Your Name" required
        class="w-full p-3 bg-gray-800 border border-yellow-600 text-white rounded" />
      <textarea name="message" placeholder="What would you like printed?" required
        class="w-full p-3 bg-gray-800 border border-yellow-600 text-white rounded h-32" required></textarea>
      <input type="text" name="references" placeholder="Reference Links or photos (optional)"
        class="w-full p-3 bg-gray-800 border border-yellow-600 text-white rounded" />
      <input type="text" name="deadline" placeholder="Deadline (if any)"
        class="w-full p-3 bg-gray-800 border border-yellow-600 text-white rounded" />
      <div class="text-center pt-2">
        <button type="submit" class="fantasy-btn">Forge My Print</button>
      </div>
    </form>
  </section>

  <section id="section-about" class="fade-in">
    <div class="max-w-3xl mx-auto text-center">
      <h2 class="text-3xl mb-4">üõ†Ô∏è About The Fantasy Forge</h2>
      <p class="mb-6 text-lg">
        The Fantasy Forge is a mobile 3D print store powered by imagination, steam, and a touch of magic. 
        From Halifax‚Äôs waterfront to fantasy fairs and local markets, we bring creations to life ‚Äî one layer at a time.
      </p>
      <div class="flex justify-center mb-6">
        <iframe 
          src="https://www.instagram.com/p/DFkykSuRBLa/embed" 
          width="400" 
          height="480" 
          frameborder="0" 
          scrolling="no" 
          allowtransparency="true" 
          class="rounded-lg border border-yellow-700 shadow-lg"
        ></iframe>
      </div>
      <p class="italic text-orange-300">
        Born from the sparks of creativity and forged by two dreamers who call Halifax home.
      </p>
    </div>
  </section>

  <!-- Footer -->
  <footer class="text-center py-4 text-sm text-yellow-500 bg-black border-t border-yellow-700" style="margin-left: 180px; margin-right: 180px;">
    &copy; 2025 The Fantasy Forge ‚Ä¢ Forged in Fire & Steam<br />
    <a href="privacy-policy.html" class="underline text-yellow-400">Privacy Policy</a>
  </footer>

  <!-- Fade-in Animation -->
  <script>
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, { threshold: 0.2 });
    document.querySelectorAll('.fade-in').forEach(section => observer.observe(section));
  </script>

  <!-- Navigation scroll -->
  <script>
    const buttons = document.querySelectorAll('nav button');
    buttons.forEach(button => {
      button.addEventListener('click', () => {
        const target = document.getElementById(button.dataset.target);
        if (target) {
          target.scrollIntoView({ behavior: 'smooth' });
          buttons.forEach(btn => btn.classList.remove('active'));
          button.classList.add('active');
        }
      });
    });

    // Update active button on scroll
    window.addEventListener('scroll', () => {
      let currentSectionId = '';
      document.querySelectorAll('section').forEach(section => {
        const sectionTop = section.offsetTop - 200;
        if (pageYOffset >= sectionTop) {
          currentSectionId = section.id;
        }
      });
      buttons.forEach(btn => btn.classList.remove('active'));
      if(currentSectionId) {
        const activeBtn = [...buttons].find(b => b.dataset.target === currentSectionId);
        if(activeBtn) activeBtn.classList.add('active');
      }
    });
  </script>

  <!-- Particles config -->
  <script>
    particlesJS('particles-js',
      {
        "particles": {
          "number": {
            "value": 80,
            "density": {"enable": true,"value_area": 800}
          },
          "color": {"value": "#ff7f00"},
          "shape": {
            "type": "circle",
            "stroke": {"width": 0,"color": "#000000"},
            "polygon": {"nb_sides": 5}
          },
          "opacity": {
            "value": 0.7,
            "random": false,
            "anim": {"enable": true,"speed": 1,"opacity_min": 0.1,"sync": false}
          },
          "size": {
            "value": 4,
            "random": true,
            "anim": {"enable": true,"speed": 10,"size_min": 0.1,"sync": false}
          },
          "line_linked": {
            "enable": false
          },
          "move": {
            "enable": true,
            "speed": 3,
            "direction": "top",
            "random": true,
            "straight": false,
            "out_mode": "out",
            "bounce": false,
            "attract": {"enable": false,"rotateX": 600,"rotateY": 1200}
          }
        },
        "interactivity": {
          "detect_on": "canvas",
          "events": {
            "onhover": {"enable": true,"mode": "repulse"},
            "onclick": {"enable": true,"mode": "push"},
            "resize": true
          },
          "modes": {
            "grab": {"distance": 200,"line_linked": {"opacity": 1}},
            "bubble": {"distance": 200,"size": 8,"duration": 2,"opacity": 0.8,"speed": 3},
            "repulse": {"distance": 100,"duration": 0.4},
            "push": {"particles_nb": 4},
            "remove": {"particles_nb": 2}
          }
        },
        "retina_detect": true
      }
    );
  </script>
</body>
</html>
